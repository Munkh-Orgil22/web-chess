{"version":3,"sources":["chess/assets/chessBoard.png","onboard/joingame.js","chess/model/chesspiece.js","chess/model/square.js","chess/model/chess.js","chess/ui/piece.js","chess/ui/piecemap.js","context/colorcontext.js","connection/videochat.js","chess/ui/chessgame.js","onboard/joinroom.js","onboard/onboard.js","navbar.js","App.js","serviceWorker.js","index.js","connection/socket.js"],"names":["module","exports","socket","require","JoinGame","props","gameid","userName","isCreator","idData","gameId","emit","JoinGameRoom","useParams","ChessPiece","name","isAttacked","color","id","this","newSquare","undefined","squareThisPieceIsOn","setPiece","x","y","Square","pieceOnThisSquare","canvasCoord","newPiece","setSquare","getPieceIdOnThisSquare","console","log","Game","thisPlayersColorIsWhite","chessBoard","makeStartingBoard","chess","Chess","toCoord","0","1","2","3","4","5","6","7","toAlphabet","toCoord2","8","toAlphabet2","nQueens","newBoard","pieceId","isMyMove","currentBoard","getBoard","findPiece","to","to2D","105","195","285","375","465","555","645","735","pieceCoordinates","to_y","to_x","originalPiece","getPiece","isPromotion","isPawnPromotion","moveAttempt","move","from","toChessMove","piece","promotion","flags","parseInt","castle","isCastle","didCastle","originalRook","reassign","checkMate","in_checkmate","turn","check","in_check","setBoard","originalPositionOfRook","newPositionOfRook","res","finalPosition","board","i","j","backRank","startingChessBoard","push","emptySquare","whiteBackRankId","blackBackRankId","Piece","choiceOfColor","isWhite","useImage","imgurls","image","isDragged","draggedPieceTargetId","canThisPieceEvenBeMovedByThisPlayer","isItThatPlayersTurn","playerTurnToMoveIsWhite","thisWhiteKingInCheck","whiteKingInCheck","thisBlackKingInCheck","blackKingInCheck","draggable","width","height","onDragStart","onDragEnd","fill","ColorContext","createContext","didRedirect","playerDidRedirect","playerDidNotRedirect","Container","styled","div","Row","Video","video","VideoChatApp","UserVideo","mainView","useState","stream","setStream","receivingCall","setReceivingCall","caller","setCaller","callerSignal","setCallerSignal","callAccepted","setCallAccepted","isCalling","setIsCalling","isStop","setStopVideo","audio","setStopAudio","userVideo","useRef","partnerVideo","useEffect","navigator","mediaDevices","getUserMedia","then","current","srcObject","on","data","signal","optionButton","display","justifyContent","alignItems","backgroundColor","borderRadius","fontSize","margin","cursor","muteButton","playsInline","muted","ref","autoPlay","style","flexDirection","paddingBottom","onClick","getVideoTracks","enabled","getAudioTracks","videoButtonPos","opponentUserName","Button","variant","peer","Peer","initiator","trickle","userToCall","signalData","mySocketId","callPeer","opponentSocketId","ChessGame","state","gameState","startDragging","e","setState","target","attrs","movePiece","selectedId","currentGame","blackCheckmated","whiteCheckmated","update","revertToPreviousState","nextPlayerColorToMove","playerColorThatJustMovedIsWhite","callBack","pgn","alert","endDragging","inferCoord","oldGS","oldBoard","tmpGS","tmpBoard","hashmap","shortestDistance","Infinity","getCanvasCoord","delta_x","delta_y","newDistance","Math","sqrt","myUserName","Fragment","backgroundImage","Board","map","row","square","isOccupied","piecemap","React","Component","ChessGameWrapper","useContext","setOpponentSocketId","opponentDidJoinTheGame","didJoinGame","setUserName","gameSessionDoesNotExist","doesntExist","showOponent","setShowOponent","history","setHistory","statusUpdate","socketId","marginTop","background","padding","updateShowOponent","textAlign","String","window","innerHeight","marginLeft","innerWidth","onFocus","event","select","value","domainName","type","JoinRoom","didGetUserName","inputText","typingUserName","typedText","textArea","createRef","TextField","marginBottom","label","required","inputRef","onChange","CreateNewGame","send","newGameRoomId","uuid","className","Onboard","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","Navbar","classes","AppBar","position","Toolbar","Typography","App","setDidRedirect","useCallback","Provider","path","exact","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch","error","message","io"],"mappings":"iGAAAA,EAAOC,QAAU,koR,uOCEXC,EAASC,EAAQ,IAAwBD,OAuChCE,EAbE,SAACC,GAOd,OA1BiB,SAACC,EAAQC,EAAUC,GAUpC,IAAMC,EAAS,CACXC,OAAQJ,EACRC,SAAUA,EACVC,UAAWA,GAEfN,EAAOS,KAAK,iBAAkBF,GAU9BG,CADmBC,cAAXP,OACaD,EAAME,SAAUF,EAAMG,WACpC,+B,kBCGIM,E,WApCX,WAAYC,EAAMC,EAAYC,EAAOC,GAAK,oBACtCC,KAAKJ,KAAOA,EACZI,KAAKH,WAAaA,EAClBG,KAAKF,MAAQA,EACbE,KAAKD,GAAKA,E,sDAGJE,QAIYC,IAAdD,QAK6BC,IAA7BF,KAAKG,sBACLH,KAAKG,oBAAsBF,EAC3BA,EAAUG,SAASJ,QAGMA,KAAKG,oBAAoBE,IAAMJ,EAAUI,GAAKL,KAAKG,oBAAoBG,IAAML,EAAUK,KAIhHN,KAAKG,oBAAsBF,EAC3BA,EAAUG,SAASJ,QAdnBA,KAAKG,oBAAsBF,I,kCAmB/B,OAAOD,KAAKG,wB,KCwBLI,E,WAxDX,WAAYF,EAAGC,EAAGE,EAAmBC,GAAc,oBAC/CT,KAAKK,EAAIA,EACTL,KAAKM,EAAIA,EACTN,KAAKS,YAAcA,EACnBT,KAAKQ,kBAAoBA,E,qDAGpBE,GACL,GAAiB,OAAbA,GAAgD,OAA3BV,KAAKQ,kBAEvB,GAAiB,OAAbE,EAEPV,KAAKQ,kBAAkBG,eAAUT,GACjCF,KAAKQ,kBAAoB,UACtB,GAA+B,OAA3BR,KAAKQ,kBAEZR,KAAKQ,kBAAoBE,EACzBA,EAASC,UAAUX,UAChB,IAAIA,KAAKY,2BAA6BF,EAASX,IAAMC,KAAKQ,kBAAkBV,QAAUY,EAASZ,MAMlG,MAAO,wCAJPe,QAAQC,IAAI,YACZd,KAAKQ,kBAAoBE,EACzBA,EAASC,UAAUX,S,oCAOvBA,KAAKQ,kBAAoB,O,iCAIzB,OAAOR,KAAKQ,oB,+CAIZ,OAA+B,OAA3BR,KAAKQ,kBACE,QAEJR,KAAKQ,kBAAkBT,K,mCAI9B,OAAiC,MAA1BC,KAAKQ,oB,iCAIZ,MAAO,CAACR,KAAKK,EAAGL,KAAKM,K,uCAIrB,OAAON,KAAKS,gB,KC8QLM,E,WAtTX,WAAYC,GAA0B,oBAClChB,KAAKgB,wBAA0BA,EAE/BhB,KAAKiB,WAAajB,KAAKkB,oBAEvBlB,KAAKmB,MAAQ,IAAIC,IAGjBpB,KAAKqB,QAAUL,EAA0B,CACrCM,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC7C,CACAP,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAGjD7B,KAAK8B,WAAad,EAA0B,CACxCM,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,KAC3D,CACAP,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,IAAKC,EAAG,KAG/D7B,KAAK+B,SAAWf,EAA0B,CACtCgB,EAAG,EAAGH,EAAG,EAAGD,EAAG,EAAGD,EAAG,EAAGD,EAAG,EAAGD,EAAG,EAAGD,EAAG,EAAGD,EAAG,GAC7C,CACAA,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGG,EAAG,GAGjDhC,KAAKiC,YAAcjB,EAA0B,CACzC,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,GAC7D,CACA,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,GAGjEhB,KAAKkC,QAAU,E,uDAIf,OAAOlC,KAAKiB,a,+BAGPkB,GACLnC,KAAKiB,WAAakB,I,uCAELC,EAASC,GACtB,IAMIC,EAAetC,KAAKuC,WACCvC,KAAKwC,UAAUF,EAAcF,K,gCAMhDA,EAASK,EAAIJ,GAEnB,IAAMK,EAAOL,EAAW,CACpBM,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,GAC7D,CACAP,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,EAAGC,IAAK,GAI7DZ,EAAetC,KAAKuC,WAClBY,EAAmBnD,KAAKwC,UAAUF,EAAcF,GAItD,GAAKe,EAAL,CAIA,IAAM7C,EAAI6C,EAAiB,GACrB9C,EAAI8C,EAAiB,GAGrBC,EAAOV,EAAKD,EAAG,IACfY,EAAOX,EAAKD,EAAG,IAEfa,EAAgBhB,EAAahC,GAAGD,GAAGkD,WAEzC,GAAIjD,IAAM8C,GAAQ/C,IAAMgD,EACpB,MAAO,8BASX,IAAMG,EAAcxD,KAAKyD,gBAAgBhB,EAAIL,EAAQ,IAC/CsB,EAAeF,EAMjBxD,KAAKmB,MAAMwC,KAAK,CACZC,KAAM5D,KAAK6D,YAAY,CAACxD,EAAGC,GAAIoC,GAC/BD,GAAIzC,KAAK6D,YAAYpB,EAAIC,GACzBoB,MAAO1B,EAAQ,GACf2B,UAAW,MAVgB/D,KAAKmB,MAAMwC,KAAK,CAC/CC,KAAM5D,KAAK6D,YAAY,CAACxD,EAAGC,GAAIoC,GAC/BD,GAAIzC,KAAK6D,YAAYpB,EAAIC,GACzBoB,MAAO1B,EAAQ,KAgBnB,GALAvB,QAAQC,IAAI,eAAgB4C,GAKR,OAAhBA,EACA,MAAO,eAIX,GAA0B,MAAtBA,EAAYM,MAAe,CAC3B,IAEI1D,EAFEqD,EAAOD,EAAYjB,GACnBpC,EAAIL,KAAKiC,YAAY0B,EAAK,IAG5BrD,EADsB,MAAtBoD,EAAY5D,MACRmE,SAASN,EAAK,GAAI,IAAM,EAExBM,SAASN,EAAK,GAAI,IAAM,EAEhCrB,EAAatC,KAAK+B,SAASzB,IAAID,GAAGD,SAAS,MAM/C,IAAM8D,EAASlE,KAAKmE,SAAST,GAC7B,GAAIQ,EAAOE,UAAW,CAUlB,IAAMC,EAAe/B,EAAa4B,EAAO5D,GAAG4D,EAAO7D,GAAGkD,WACtDjB,EAAa4B,EAAOd,MAAMc,EAAOb,MAAMjD,SAASiE,GAChD/B,EAAa4B,EAAO5D,GAAG4D,EAAO7D,GAAGD,SAAS,MAM9C,IAAMkE,EAAWd,EAAclB,EAAac,GAAMC,GAAMjD,SACpD,IAAIT,EACA,SACA,EACe,MAAfyC,EAAQ,GAAa,QAAU,QAChB,MAAfA,EAAQ,GAAa,KAAOpC,KAAKkC,QAAU,KAAOlC,KAAKkC,UACzDI,EAAac,GAAMC,GAAMjD,SAASkD,GAExC,GAAiB,0CAAbgB,EAGA,OAAOA,EAFPhC,EAAahC,GAAGD,GAAGD,SAAS,MAQhC,IAAMmE,EAAYvE,KAAKmB,MAAMqD,eAAiB,uBAAyB,2BAEvE,GADA3D,QAAQC,IAAId,KAAKmB,MAAMsD,OAASF,GACd,yBAAdA,EACA,OAAOvE,KAAKmB,MAAMsD,OAASF,EAG/B,IAAMG,EAAQ1E,KAAKmB,MAAMwD,WAAa,eAAiB,mBAEvD,GADA9D,QAAQC,IAAId,KAAKmB,MAAMsD,OAASC,GAClB,iBAAVA,EACA,OAAO1E,KAAKmB,MAAMsD,OAASC,EAG/B7D,QAAQC,IAAIwB,GAEZtC,KAAK4E,SAAStC,M,+BAKToB,GAYL,IAaImB,EACAC,EAdEhB,EAAQJ,EAAYI,MACpBH,EAAeD,EAAYE,KAA3BD,EAAqCD,EAAYjB,GAMvD,OAHqC,OAAdkB,GAAkC,OAAZA,GAAoC,OAAdA,GAAkC,OAAZA,GADnD,OAAdA,GAAkC,OAAZA,GAAoC,OAAdA,GAAkC,OAAZA,IAIvC,MAAVG,GAStB,OAAdH,GAAkC,OAAZA,GACvBkB,EAAyB,KACzBC,EAAoB,MACE,OAAdnB,GAAkC,OAAZA,GAC9BkB,EAAyB,KACzBC,EAAoB,MACE,OAAdnB,GAAkC,OAAZA,GAC9BkB,EAAyB,KACzBC,EAAoB,OAEpBD,EAAyB,KACzBC,EAAoB,MAIjB,CACHV,WAAW,EACX/D,EAAGL,KAAKiC,YAAY4C,EAAuB,IAC3CvE,EAAGN,KAAK+B,SAAS8C,EAAuB,IACxCxB,KAAMrD,KAAKiC,YAAY6C,EAAkB,IACzC1B,KAAMpD,KAAK+B,SAAS+C,EAAkB,MA5B/B,CACHV,WAAW,K,sCAgCP3B,EAAIqB,GAChB,IAAMiB,EAAgB,MAAVjB,IAA4B,MAAVrB,EAAG,IAAwB,MAAVA,EAAG,IAIlD,OAHIsC,IACA/E,KAAKkC,SAAW,GAEb6C,I,kCAICC,EAAetC,GAWvB,OAPIsC,EAAc,GAAK,IACZhF,KAAK8B,WAAWY,EAAKsC,EAAc,KAAOhF,KAAKqB,QAAQqB,EAAKsC,EAAc,KAE1EhF,KAAK8B,WAAWkD,EAAc,IAAMhF,KAAKqB,QAAQ2D,EAAc,M,gCAOpEC,EAAO7C,GAGb,IAAK,IAAI8C,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACnB,GAAIF,EAAMC,GAAGC,GAAGvE,2BAA6BwB,EACzC,MAAO,CAAC+C,EAAGD,K,0CASvB,IAFA,IAAME,EAAW,CAAC,OAAQ,SAAU,SAAU,QAAS,OAAQ,SAAU,SAAU,QAC/EC,EAAqB,GAChBH,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxBG,EAAmBC,KAAK,IACxB,IAAK,IAAIH,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAGxB,IACMI,EAAc,IAAIhF,EAAO4E,EAAGD,EAAG,KADT,CAAY,IAATC,EAAI,GAAU,GAAgB,IAATD,EAAI,GAAU,KAGlEG,EAAmBH,GAAGI,KAAKC,IAKnC,IAFA,IAAMC,EAAkB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACpEC,EAAkB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACjEN,EAAI,EAAGA,EAAI,EAAGA,GAAK,EACxB,IAAK,IAAID,EAAI,EAAGA,EAAI,EAAGA,IACT,IAANC,GAGAE,EAAmBF,GAAGnF,KAAKgB,wBAA0BkE,EAAI,EAAIA,GAAG9E,SAAS,IAAIT,EAAWyF,EAASF,IAAI,EAAOlF,KAAKgB,wBAA0B,QAAU,QAAShB,KAAKgB,wBAA0ByE,EAAgBP,GAAKM,EAAgBN,KAClOG,EAAmBF,EAAI,GAAGnF,KAAKgB,wBAA0BkE,EAAI,EAAIA,GAAG9E,SAAS,IAAIT,EAAW,QAAQ,EAAOK,KAAKgB,wBAA0B,QAAU,QAAShB,KAAKgB,wBAA0B,KAAOkE,EAAI,KAAOA,MAG9MG,EAAmBF,EAAI,GAAGnF,KAAKgB,wBAA0BkE,EAAI,EAAIA,GAAG9E,SAAS,IAAIT,EAAW,QAAQ,EAAOK,KAAKgB,wBAA0B,QAAU,QAAShB,KAAKgB,wBAA0B,KAAOkE,EAAI,KAAOA,IAC9MG,EAAmBF,GAAGnF,KAAKgB,wBAA0BkE,EAAI,EAAIA,GAAG9E,SAAS,IAAIT,EAAWyF,EAASF,IAAI,EAAOlF,KAAKgB,wBAA0B,QAAU,QAAShB,KAAKgB,wBAA0BwE,EAAgBN,GAAKO,EAAgBP,MAI9O,OAAOG,M,iDCnSAK,EAxBD,SAACxG,GACX,IAAMyG,EAAgBzG,EAAM0G,QAAU,EAAI,EADrB,EAELC,IAAS3G,EAAM4G,QAAQH,IAAhCI,EAFc,oBAGfC,EAAY9G,EAAMa,KAAOb,EAAM+G,qBAE/BC,EAAsChH,EAAM0G,UAAY1G,EAAM8B,wBAC9DmF,EAAsBjH,EAAMkH,0BAA4BlH,EAAM8B,wBAE9DqF,EAAoC,QAAbnH,EAAMa,IAAgBb,EAAMoH,iBACnDC,EAAoC,QAAbrH,EAAMa,IAAgBb,EAAMsH,iBAEzD,OAAO,kBAAC,QAAD,CAAOT,MAAOA,EACjB1F,EAAGnB,EAAMmB,EAAI,GACbC,EAAGpB,EAAMoB,EAAI,GACbmG,UAAWP,GAAuCC,EAClDO,MAAOV,EAAY,GAAK,GACxBW,OAAQX,EAAY,GAAK,GACzBY,YAAa1H,EAAM0H,YACnBC,UAAW3H,EAAM2H,UACjBC,MAAOT,GAAmCE,IAAX,MAC/BxG,GAAIb,EAAMa,MCxBH,GACX,KAAQ,CAAC,sEAAuE,uEAChF,OAAS,CAAC,sEAAsE,uEAChF,OAAS,CAAC,sEAAsE,uEAChF,KAAO,CAAC,sEAAsE,uEAC9E,MAAQ,CAAC,sEAAsE,uEAC/E,KAAO,CAAC,sEAAsE,wECJrEgH,EAAeC,wBAAc,CACtCC,aAAa,EACbC,kBAAmB,aACnBC,qBAAsB,e,6YCC1B,IAAMpI,EAASC,EAAQ,IAAwBD,OAGzCqI,EAAYC,IAAOC,IAAV,KAMTC,EAAMF,IAAOC,IAAV,KAIHE,EAAQH,IAAOI,MAAV,KAwMIC,MA3Lf,SAAsBxI,GAAQ,IA0ExByI,EAwEAC,EAlJuB,EAECC,qBAFD,mBAEpBC,EAFoB,KAEZC,EAFY,OAGeF,oBAAS,GAHxB,mBAGpBG,EAHoB,KAGLC,EAHK,OAICJ,mBAAS,IAJV,mBAIpBK,EAJoB,KAIZC,EAJY,OAKaN,qBALb,mBAKpBO,EALoB,KAKNC,EALM,OAMaR,oBAAS,GANtB,mBAMpBS,EANoB,KAMNC,EANM,OAOOV,oBAAS,GAPhB,mBAOpBW,EAPoB,KAOTC,EAPS,OAQIZ,oBAAS,GARb,mBAQpBa,EARoB,KAQZC,EARY,OASGd,oBAAS,GATZ,mBASpBe,EAToB,KASbC,EATa,KAUrBC,EAAYC,mBACZC,EAAeD,mBAgErB,GA7DAE,qBAAU,WACRC,UAAUC,aAAaC,aAAa,CAAE3B,OAAO,EAAMmB,OAAO,IAAQS,MAAK,SAAAvB,GAErEC,EAAUD,GACNgB,EAAUQ,UACZR,EAAUQ,QAAQC,UAAYzB,MAIlC/I,EAAOyK,GAAG,OAAO,SAACC,GAChBxB,GAAiB,GACjBE,EAAUsB,EAAK7F,MACfyE,EAAgBoB,EAAKC,aAEtB,IA+CC5B,EAAQ,CACV,IA6BM6B,EAAe,CACnBC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,gBAAiBrB,EAAS,MAAQ,UAClC/B,OAAQ,OACRD,MAAO,OACPsD,aAAc,MACdC,SAAU,SACVC,OAAQ,iBACRpK,MAAO,UACPqK,OAAQ,WAEJC,EAAa,CACjBR,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,gBAAiBnB,EAAQ,MAAQ,UACjCjC,OAAQ,OACRD,MAAO,OACPsD,aAAc,MACdC,SAAU,SACVC,OAAQ,iBACRpK,MAAO,UACPqK,OAAQ,WAEVxC,EACE,6BACE,kBAACH,EAAD,CAAO6C,aAAW,EAACC,OAAK,EAACC,IAAKzB,EAAW0B,UAAQ,IACjD,yBAAKC,MAnCe,CACtBb,QAAS,OACTc,cAAe,MACfC,cAAe,SAiCX,yBAAKF,MAAOd,EAAciB,QA3Dd,WACA9C,EAAO+C,iBAAiB,GAAGC,SAEzChD,EAAO+C,iBAAiB,GAAGC,SAAU,EACrCnC,GAAa,KAGbb,EAAO+C,iBAAiB,GAAGC,SAAU,EACrCnC,GAAa,MAoDRD,EAAS,kBAAC,IAAD,MAA+B,kBAAC,IAAD,OAE3C,yBAAK+B,MAAOL,EAAYQ,QAlDZ,WACA9C,EAAOiD,iBAAiB,GAAGD,SAEzChD,EAAOiD,iBAAiB,GAAGD,SAAU,EACrCjC,GAAa,KAEbf,EAAOiD,iBAAiB,GAAGD,SAAU,EACrCjC,GAAa,MA4CRD,EAAQ,kBAAC,IAAD,MAAoB,kBAAC,IAAD,SASvC,IAAMoC,EAAiB,CACrBd,OAAQ,kBA8BV,OA1BEtC,EADEU,EAEA,kBAACd,EAAD,CAAO6C,aAAW,EAACE,IAAKvB,EAAcwB,UAAQ,IAEvCxC,EAEP,6BACE,6BAAM9I,EAAM+L,iBAAZ,2EACA,kBAACC,EAAA,EAAD,CAAQT,MAAOO,EAAgBG,QAAQ,YAAYrL,MAAM,UAAU8K,QAzGzE,WACErC,GAAgB,GAChBE,GAAa,GACb,IAAM2C,EAAO,IAAIC,IAAK,CACpBC,WAAW,EACXC,SAAS,EACTzD,OAAQA,IAEVsD,EAAK5B,GAAG,UAAU,SAAAC,GAChB1K,EAAOS,KAAK,aAAc,CAAEkK,OAAQD,EAAMhH,GAAIyF,OAGhDkD,EAAK5B,GAAG,UAAU,SAAA1B,GAChBkB,EAAaM,QAAQC,UAAYzB,KAGnCsD,EAAK1B,OAAOtB,KAyFR,2DAGKI,EAEP,6BACE,6BAAMtJ,EAAM+L,iBAAZ,iHAKF,kBAACC,EAAA,EAAD,CAAQT,MAAOO,EAAgBG,QAAQ,YAAYrL,MAAM,UAAU8K,QAAS,YA7IhF,SAAkB7K,GAChB0I,GAAa,GACb,IAAM2C,EAAO,IAAIC,IAAK,CACpBC,WAAW,EACXC,SAAS,EACTzD,OAAQA,IAGVsD,EAAK5B,GAAG,UAAU,SAAAC,GAChB1K,EAAOS,KAAK,WAAY,CAAEgM,WAAYzL,EAAI0L,WAAYhC,EAAM7F,KAAM1E,EAAMwM,gBAG1EN,EAAK5B,GAAG,UAAU,SAAA1B,GACZkB,EAAaM,UACfN,EAAaM,QAAQC,UAAYzB,MAIrC/I,EAAOyK,GAAG,gBAAgB,SAAAE,GACxBnB,GAAgB,GAChB6C,EAAK1B,OAAOA,MA0HViC,CAASzM,EAAM0M,oBADjB,wCAQI,kBAACxE,EAAD,KACN,kBAACG,EAAD,KACGI,EACAC,KC5MD7I,EAASC,EAAQ,IAA2BD,OAG5C8M,E,4MAEFC,MAAQ,CACJC,UAAW,IAAIhL,EAAK,EAAK7B,MAAMY,OAC/BmG,qBAAsB,GACtBG,yBAAyB,EACzBE,kBAAkB,EAClBE,kBAAkB,G,EAuBtBwF,cAAgB,SAACC,GACb,EAAKC,SAAS,CACVjG,qBAAsBgG,EAAEE,OAAOC,MAAMrM,M,EAO7CsM,UAAY,SAACC,EAAYtH,EAAeuH,EAAalK,GACjD,IAAIiE,GAAmB,EACnBE,GAAmB,EACnBgG,GAAkB,EAClBC,GAAkB,EAChBC,EAASH,EAAYF,UAAUC,EAAYtH,EAAe3C,GAEhE,GAAe,gCAAXqK,EAGG,GAAe,0CAAXA,EAAJ,CAGA,GAAe,kBAAXA,GAAyC,kBAAXA,EACnB,MAAdA,EAAO,GACPlG,GAAmB,EAEnBF,GAAmB,OAEpB,GAAe,0BAAXoG,GAAiD,0BAAXA,EAC3B,MAAdA,EAAO,GACPF,GAAkB,EAElBC,GAAkB,OAEnB,GAAe,iBAAXC,EAEP,YADA,EAAKC,sBAAsBL,GAK3BjK,GACAtD,EAAOS,KAAK,WAAY,CACpBoN,uBAAwB,EAAKd,MAAMC,UAAU/K,wBAC7C6L,gCAAiC,EAAKf,MAAMC,UAAU/K,wBACtDsL,WAAYA,EACZtH,cAAeA,EACfzF,OAAQ,EAAKL,MAAMK,SAG3B,EAAKL,MAAM4N,SAASP,EAAYpL,MAAM4L,OAGtC,EAAKb,SAAS,CACVjG,qBAAsB,GACtB8F,UAAWQ,EACXnG,yBAA0B,EAAKlH,MAAMY,MACrCwG,iBAAkBA,EAClBE,iBAAkBA,IAGlBgG,EACAQ,MAAM,2FACCP,GACPO,MAAM,8EA3CN,EAAKL,sBAAsBL,QAH3B,EAAKK,sBAAsBL,I,EAmDnCW,YAAc,SAAChB,GACX,IAAMM,EAAc,EAAKT,MAAMC,UACzBzJ,EAAeiK,EAAYhK,WAC3ByC,EAAgB,EAAKkI,WAAWjB,EAAEE,OAAO9L,IAAM,GAAI4L,EAAEE,OAAO7L,IAAM,GAAIgC,GACtEgK,EAAa,EAAKR,MAAM7F,qBAC9B,EAAKoG,UAAUC,EAAYtH,EAAeuH,GAAa,I,EAG3DI,sBAAwB,SAACL,GAOrB,IALA,IAAMa,EAAQ,EAAKrB,MAAMC,UACnBqB,EAAWD,EAAM5K,WACjB8K,EAAQ,IAAItM,GAAK,GACjBuM,EAAW,GAERpI,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxBoI,EAAShI,KAAK,IACd,IAAK,IAAIH,EAAI,EAAGA,EAAI,EAAGA,IACfiI,EAASlI,GAAGC,GAAGvE,2BAA6B0L,EAC5CgB,EAASpI,GAAGI,KAAK,IAAI/E,EAAO4E,EAAGD,EAAG,KAAMkI,EAASlI,GAAGC,GAAG1E,cAEvD6M,EAASpI,GAAGI,KAAK8H,EAASlI,GAAGC,IAMzCkI,EAAMzI,SAAS0I,GAEf,EAAKpB,SAAS,CACVH,UAAWsB,EACXpH,qBAAsB,KAG1B,EAAKiG,SAAS,CACVH,UAAWoB,K,EAKnBD,WAAa,SAAC7M,EAAGC,EAAGW,GAIhB,IAFA,IAAIsM,EAAU,GACVC,EAAmBC,IACdvI,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAM1E,EAAcQ,EAAWiE,GAAGC,GAAGuI,iBAE/BC,EAAUlN,EAAY,GAAKJ,EAC3BuN,EAAUnN,EAAY,GAAKH,EAC3BuN,EAAcC,KAAKC,KAAK,SAAAJ,EAAW,GAAX,SAAeC,EAAW,IACxDL,EAAQM,GAAepN,EACnBoN,EAAcL,IACdA,EAAmBK,GAK/B,OAAON,EAAQC,I,kEAjJE,IAAD,OAChB3M,QAAQC,IAAId,KAAKd,MAAM8O,YACvBnN,QAAQC,IAAId,KAAKd,MAAM+L,kBAEvBlM,EAAOyK,GAAG,iBAAiB,SAAA7F,GACnBA,EAAKkJ,kCAAoC,EAAK3N,MAAMY,QACpD,EAAKuM,UAAU1I,EAAK2I,WAAY3I,EAAKqB,cAAe,EAAK8G,MAAMC,WAAW,GAC1E,EAAKG,SAAS,CACV9F,yBAA0BzC,EAAKkJ,wC,+BA4IrC,IAAD,OACL,OACI,kBAAC,IAAMoB,SAAP,KACI,yBAAKxD,MAAO,CACRyD,gBAAgB,OAAD,OAASC,IAAT,KACfzH,MAAO,QACPC,OAAQ,UAGR,kBAAC,QAAD,CAAOD,MAAO,IAAKC,OAAQ,KACvB,kBAAC,QAAD,KACK3G,KAAK8L,MAAMC,UAAUxJ,WAAW6L,KAAI,SAACC,GAClC,OAAQ,kBAAC,IAAMJ,SAAP,KACHI,EAAID,KAAI,SAACE,GACN,GAAIA,EAAOC,aACP,OACI,kBAAC,EAAD,CACIlO,EAAGiO,EAAOZ,iBAAiB,GAC3BpN,EAAGgO,EAAOZ,iBAAiB,GAC3B5H,QAAS0I,EAASF,EAAO/K,WAAW3D,MACpCgG,QAAqC,UAA5B0I,EAAO/K,WAAWzD,MAC3BmG,qBAAsB,EAAK6F,MAAM7F,qBACjCW,YAAa,EAAKoF,cAClBnF,UAAW,EAAKoG,YAChBlN,GAAIuO,EAAO1N,yBACXI,wBAAyB,EAAK9B,MAAMY,MACpCsG,wBAAyB,EAAK0F,MAAM1F,wBACpCE,iBAAkB,EAAKwF,MAAMxF,iBAC7BE,iBAAkB,EAAKsF,MAAMtF,kC,GA3LzDiI,IAAMC,WAyWfC,EA9JU,SAACzP,GAEtB,IACMY,EAAQ2O,IAAMG,WAAW7H,GACvB5H,EAAWO,cAAXP,OAJwB,EAKgBsP,IAAM5G,SAAS,IAL/B,mBAKzB+D,EALyB,KAKPiD,EALO,OAMcJ,IAAM5G,UAAS,GAN7B,mBAMzBiH,EANyB,KAMDC,EANC,OAOQN,IAAM5G,SAAS,IAPvB,mBAOzBoD,EAPyB,KAOP+D,EAPO,OAQeP,IAAM5G,UAAS,GAR9B,mBAQzBoH,EARyB,KAQAC,EARA,OASMT,IAAM5G,UAAS,GATrB,mBASzBsH,EATyB,KASZC,EATY,OAUFX,IAAM5G,SAAS,IAVb,mBAUzBwH,EAVyB,KAUhBC,EAVgB,KAiEhC,OAhDAb,IAAMxF,WAAU,WACZlK,EAAOyK,GAAG,oBAAoB,SAAA+F,GAC1B1O,QAAQC,IAAI,yCAA2CyO,EAAanQ,SAAW,cAAgBmQ,EAAahQ,OAAS,eAAiBgQ,EAAa7D,YAC/I3M,EAAOgB,KAAOwP,EAAa7D,YAC3BmD,EAAoBU,EAAa7D,eAIzC3M,EAAOyK,GAAG,UAAU,SAAA+F,GAChB1O,QAAQC,IAAIyO,GACZvC,MAAMuC,GACe,gIAAjBA,GAA+D,oNAAjBA,GAC9CL,GAAY,MAKpBnQ,EAAOyK,GAAG,cAAc,SAACyB,GACrBpK,QAAQC,IAAI,UACRmK,IAAqB/L,EAAM8O,YAC3BgB,EAAY/D,GACZ8D,GAAY,IAGZhQ,EAAOS,KAAK,mBAAoBL,MAKxCJ,EAAOyK,GAAG,iBAAiB,SAACgG,GACpBzQ,EAAOgB,KAAOyP,IACd3O,QAAQC,IAAI,wBAA0B5B,EAAM8O,YAC5CjP,EAAOS,KAAK,oBAAqB,CAAEJ,SAAUF,EAAM8O,WAAYzO,OAAQJ,QAI/EJ,EAAOyK,GAAG,yBAAyB,SAACC,GAC5B1K,EAAOgB,KAAO0J,EAAK+F,WACnBR,EAAYvF,EAAKrK,UACjByB,QAAQC,IAAI,gCACZ+N,EAAoBpF,EAAK+F,UACzBT,GAAY,SAGrB,IAKC,kBAAC,IAAMd,SAAP,KA0BKa,EACG,6BACI,yBAAKrE,MAAO,CAAEb,QAAS,OAAQc,cAAe,MAAOb,eAAgB,eAAgB4F,UAAW,SAC5F,6BACI,6BACI,wBAAIhF,MAAO,CAAEgF,UAAW,SAAxB,4DAA+CxE,EAA/C,KACA,kBAAC,EAAD,CACI1L,OAAQJ,EACRW,MAAOA,EAAMmH,YACb6F,SA1FhC,SAAuBrD,GACnB6F,EAAW7F,GAEX5I,QAAQC,IAAI,cA0FQ,yBAAK2J,MAAO,CAAEgF,UAAW,SACrB,4GACA,yBAAKhF,MAAO,CAAEiF,WAAY,UAAW1F,aAAc,MAAO2F,QAAS,MAAOjJ,MAAO,QAASC,OAAQ,SAAW0I,KAGrH,yBAAK5E,MAAO,CAAEb,QAAS,OAAQc,cAAe,SAAUb,eAAgB,eAAgBC,WAAY,WAChG,kBAAC,EAAD,CACI4B,WAAY3M,EAAOgB,GACnBoP,YAAaA,EACbS,kBAAmBR,EACnBxD,iBAAkBA,EAClBoC,WAAY9O,EAAM8O,WAClB/C,iBAAkBA,OAOlCgE,EACA,6BACI,wBAAIxE,MAAO,CAAEoF,UAAW,SAAUJ,UAAW,UAA7C,SAGJ,6BACI,wBACIhF,MAAO,CACHoF,UAAW,SACXJ,UAAWK,OAAOC,OAAOC,YAAc,GAAK,OAGhD,gCAAS9Q,EAAM8O,YANnB,qaAQA,8BACIvD,MAAO,CAAEwF,WAAYH,OAAQC,OAAOG,WAAa,EAAK,KAAO,KAAMT,UAAW,OAAQ/I,MAAO,QAASC,OAAQ,QAC9GwJ,QAAS,SAACC,GACNvP,QAAQC,IAAI,MACZsP,EAAMjE,OAAOkE,UAEjBC,MAAOC,8BAAwBpR,EAC/BqR,KAAK,SAET,6BAEA,wBAAI/F,MAAO,CAAEoF,UAAW,SAAUJ,UAAW,UACxC,IADL,wOAEiD,Q,SC9StDgB,E,kDAhDX,WAAYvR,GAAQ,IAAD,8BACf,cAAMA,IANV4M,MAAQ,CACJ4E,gBAAgB,EAChBC,UAAW,IAGI,EAKnBC,eAAiB,WAEb,IAAMC,EAAY,EAAKC,SAASxH,QAAQgH,MAGxC,EAAKpE,SAAS,CACVyE,UAAWE,KATf,EAAKC,SAAWrC,IAAMsC,YAFP,E,qDAeT,IAAD,OAEL,OAAQ,kBAAC,IAAM9C,SAAP,KAEAjO,KAAK8L,MAAM4E,eACP,kBAAC,IAAMzC,SAAP,KACI,kBAAC,EAAD,CAAU7O,SAAUY,KAAK8L,MAAM6E,UAAWtR,WAAW,IACrD,kBAAC,EAAD,CAAW2O,WAAYhO,KAAK8L,MAAM6E,aAGtC,yBAAKlG,MAAO,CAAEb,QAAS,OAAQc,cAAe,SAAUZ,WAAY,SAAU2F,UAAW,SACrF,iFACA,0QAEA,kBAACuB,EAAA,EAAD,CAAWjR,GAAG,iBAAiB0K,MAAO,CAAE/D,MAAO,OAAQuK,aAAc,MAAQC,MAAM,qBAAM/F,QAAQ,WAAWgG,UAAQ,EAChHC,SAAUpR,KAAK8Q,SACfO,SAAUrR,KAAK4Q,iBAEnB,kBAAC1F,EAAA,EAAD,CAAQC,QAAQ,YAAYrL,MAAM,UAG9B8K,QAAS,WAEL,EAAKsB,SAAS,CACVwE,gBAAgB,MAN5B,qG,GAvCDjC,IAAMC,W,kBCJvB3P,EAASC,EAAQ,IAAwBD,OAMzCuS,E,kDAOF,WAAYpS,GAAQ,IAAD,8BACf,cAAMA,IAPV4M,MAAQ,CACJ4E,gBAAgB,EAChBC,UAAW,GACXpR,OAAQ,IAGO,EAKnBgS,KAAO,WAKH,IAAMC,EAAgBC,MAItB,EAAKvF,SAAS,CACV3M,OAAQiS,IAIZzS,EAAOS,KAAK,gBAAiBgS,IAnBd,EAsBnBZ,eAAiB,WAEb,IAAMC,EAAY,EAAKC,SAASxH,QAAQgH,MAGxC,EAAKpE,SAAS,CACVyE,UAAWE,KA1Bf,EAAKC,SAAWrC,IAAMsC,YAFP,E,qDAgCT,IAAD,OAEL,OAAQ,kBAAC,IAAM9C,SAAP,KAEAjO,KAAK8L,MAAM4E,eAEP,kBAAC,IAAD,CAAUjO,GAAI,SAAWzC,KAAK8L,MAAMvM,QAAQ,4BAAQmS,UAAU,kBAAkBjH,MAAO,CAAEwF,WAAYH,OAAQC,OAAOG,WAAa,EAAK,IAAM,KAAMxJ,MAAO,UAA7G,gGAG5C,yBAAK+D,MAAO,CAAEb,QAAS,OAAQc,cAAe,SAAUZ,WAAY,SAAU2F,UAAW,SACrF,iFACA,8PACA,kBAACuB,EAAA,EAAD,CAAWjR,GAAG,iBAAiB0K,MAAO,CAAE/D,MAAO,OAAQuK,aAAc,MAAQC,MAAM,qBAAM/F,QAAQ,WAAWgG,UAAQ,EAChHC,SAAUpR,KAAK8Q,SACfO,SAAUrR,KAAK4Q,iBAEnB,kBAAC1F,EAAA,EAAD,CAAQC,QAAQ,YAAYrL,MAAM,UAG9B8K,QAAS,WAEL,EAAK1L,MAAM+H,cACX,EAAK/H,MAAM8P,YAAY,EAAKlD,MAAM6E,WAClC,EAAKzE,SAAS,CACVwE,gBAAgB,IAEpB,EAAKa,SAVb,yF,GAvDI9C,IAAMC,WAgFnBiD,EAPC,SAACzS,GACb,IAAMY,EAAQ2O,IAAMG,WAAW7H,GAE/B,OAAO,kBAAC,EAAD,CAAeE,YAAanH,EAAMoH,kBAAmB8H,YAAa9P,EAAM8P,e,uCCjF7E4C,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,SAAU,GAEdC,WAAY,CACRC,YAAaJ,EAAMK,QAAQ,IAE/BC,MAAO,CACHJ,SAAU,OAIH,SAASK,KACpB,IAAMC,EAAUV,KAEhB,OACI,yBAAKF,UAAWY,EAAQP,MACpB,kBAACQ,GAAA,EAAD,CAAQC,SAAS,UACb,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAYvH,QAAQ,KAAKuG,UAAWY,EAAQF,OAA5C,wDCsBLO,OAtCf,WAAgB,IAAD,EAEyBlE,IAAM5G,UAAS,GAFxC,mBAENZ,EAFM,KAEO2L,EAFP,KAIP1L,EAAoBuH,IAAMoE,aAAY,WAC1CD,GAAe,KACd,IAEGzL,EAAuBsH,IAAMoE,aAAY,WAC7CD,GAAe,KACd,IAVU,EAYmBnE,IAAM5G,SAAS,IAZlC,mBAYNzI,EAZM,KAYI4P,EAZJ,KAcb,OACE,kBAACjI,EAAa+L,SAAd,CAAuBxC,MAAO,CAAErJ,YAAaA,EAAaC,kBAAmBA,EAAmBC,qBAAsBA,IACpH,kBAAC,IAAD,KACE,kBAACkL,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOU,KAAK,IAAIC,OAAK,GACnB,kBAAC,EAAD,CAAShE,YAAaA,KAGxB,kBAAC,IAAD,CAAO+D,KAAK,gBAAgBC,OAAK,GAC9B/L,EACC,kBAAC,IAAMgH,SAAP,KACE,kBAAC,EAAD,CAAU7O,SAAUA,EAAUC,WAAW,IACzC,kBAAC,EAAD,CAAW2O,WAAY5O,KAGzB,kBAAC,EAAD,OAEJ,kBAAC,IAAD,CAAUqD,GAAG,UC9BHwQ,QACW,cAA7BlD,OAAOmD,SAASC,UAEe,UAA7BpD,OAAOmD,SAASC,UAEhBpD,OAAOmD,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBvK,WACrBA,UAAUwK,cAAcC,MACrBtK,MAAK,SAAAuK,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLlT,QAAQkT,MAAMA,EAAMC,a,gCEzI5B,6FAOItI,EAPJ,SAKM3M,EALN,MAKekV,GAHH,0CASZlV,EAAOyK,GAAG,iBAAiB,SAAA+F,GACvB1O,QAAQC,IAAI,+BAAiCyO,EAAanQ,SAAW,cAAgBmQ,EAAahQ,OAAS,eAAiBgQ,EAAa7D,YACzIA,EAAa6D,EAAa7D,gB","file":"static/js/main.33e32ea4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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AQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAIPDd042994Whu3tvtTB8d27fKAyf8TwaxvNoGM+jYTyPhvE8GmagAQAgIKABACAgoAEAICCgAQAgIKABACAwcdYffPj4ednc2ik/rFwuiwsXCgAAtNGZZqDf7O418QwAAG13poBefbReOp0zT1YDAMC/rVMDeu3ZVinvS7m2tFAAAKDtTgzobne/PF3fLstX50tncrwAAEDbnRjQ91fXyqWF2aOXhwYBAKDqu7B5Y2unmYHudvabHTgODg6b45vbHx4mtBMHAABt1Deg33XfldmZqWb9cw3pXkB39/bL4W//BgCAtukb0NeuLpRrx75/tbNbfl59enR83uwzAACt5S8RAgBA4MybO1+YnS53bt8oAADQZmagAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgIKABACAgoAEAICCgAQAgMHH33mph+O7cvlEYPuN5NIzn0TCeR8N4Hg3jeTSM59EwAw0AAAEBDQAAAQENAAABAQ0A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\"","import React from 'react'\nimport { useParams } from 'react-router-dom'\nconst socket = require('../connection/socket').socket\n\n/**\n * 'Join game' is where we actually join the game room. \n */\n\n\nconst JoinGameRoom = (gameid, userName, isCreator) => {\n    /**\n     * For this browser instance, we want \n     * to join it to a gameRoom. For now\n     * assume that the game room exists \n     * on the backend. \n     *  \n     * \n     * TODO: handle the case when the game room doesn't exist. \n     */\n    const idData = {\n        gameId: gameid,\n        userName: userName,\n        isCreator: isCreator\n    }\n    socket.emit(\"playerJoinGame\", idData)\n}\n\n\nconst JoinGame = (props) => {\n    /**\n     * Extract the 'gameId' from the URL. \n     * the 'gameId' is the gameRoom ID. \n     */\n    const { gameid } = useParams()\n    JoinGameRoom(gameid, props.userName, props.isCreator)\n    return <div>\n        {/* <h1 style = {{textAlign: \"center\"}}>Welcome to Chess with Friend!</h1>\n        <h3 style = {{textAlign: \"center\"}}>Made with ❤️ by <a href = 'https://jackhe.codes/' target = '_blank'>Jack He</a>. Subscribe to my <a href = 'https://www.youtube.com/channel/UC9xFO-llZ2ontatfj9LtLxw' target = '_blank'>YouTube channel</a>. Follow me on <a href = 'https://www.instagram.com/jack_he_hd/?hl=en' target = '_blank'>Instagram</a>.</h3> */}\n    </div>\n}\n\nexport default JoinGame\n","\nclass ChessPiece {\n    constructor(name, isAttacked, color, id) {\n        this.name = name // string\n        this.isAttacked = isAttacked // boolean\n        this.color = color // string\n        this.id = id // string\n    }\n\n    setSquare(newSquare) {\n        // set the square this piece is sitting top of. \n        // on any given piece (on the board), there will always be a piece on top of it. \n        // console.log(newSquare)\n        if (newSquare === undefined) {\n            this.squareThisPieceIsOn = newSquare\n            return\n        }\n\n        if (this.squareThisPieceIsOn === undefined) {\n            this.squareThisPieceIsOn = newSquare\n            newSquare.setPiece(this)\n        }\n\n        const isNewSquareDifferent = this.squareThisPieceIsOn.x !== newSquare.x || this.squareThisPieceIsOn.y !== newSquare.y\n\n        if (isNewSquareDifferent) {\n            // console.log(\"set\")\n            this.squareThisPieceIsOn = newSquare\n            newSquare.setPiece(this)\n        }\n    }\n\n    getSquare() {\n        return this.squareThisPieceIsOn\n    }\n}\n\n\nexport default ChessPiece","class Square {\n    constructor(x, y, pieceOnThisSquare, canvasCoord) {\n        this.x = x // Int 0 < x < 7\n        this.y = y // Int 0 < y < 7 \n        this.canvasCoord = canvasCoord\n        this.pieceOnThisSquare = pieceOnThisSquare // ChessPiece || null\n    }\n\n    setPiece(newPiece) {\n        if (newPiece === null && this.pieceOnThisSquare === null) {\n            return\n        } else if (newPiece === null) {\n            // case where the function caller wants to remove the piece that is on this square. \n            this.pieceOnThisSquare.setSquare(undefined)\n            this.pieceOnThisSquare = null\n        } else if (this.pieceOnThisSquare === null) {\n            // case where the function caller wants assign a new piece on this square\n            this.pieceOnThisSquare = newPiece\n            newPiece.setSquare(this)\n        } else if (this.getPieceIdOnThisSquare() !== newPiece.id && this.pieceOnThisSquare.color !== newPiece.color) {\n            // case where the function caller wants to change the piece on this square. (only different color allowed)\n            console.log(\"capture!\")\n            this.pieceOnThisSquare = newPiece\n            newPiece.setSquare(this)\n        } else {\n            return \"user tried to capture their own piece\"\n        }\n    }\n\n    removePiece() {\n        this.pieceOnThisSquare = null\n    }\n\n    getPiece() {\n        return this.pieceOnThisSquare\n    }\n\n    getPieceIdOnThisSquare() {\n        if (this.pieceOnThisSquare === null) {\n            return \"empty\"\n        }\n        return this.pieceOnThisSquare.id\n    }\n\n    isOccupied() {\n        return this.pieceOnThisSquare != null\n    }\n\n    getCoord() {\n        return [this.x, this.y]\n    }\n\n    getCanvasCoord() {\n        return this.canvasCoord\n    }\n}\n\nexport default Square","import Chess from 'chess.js'\nimport ChessPiece from './chesspiece'\nimport Square from './square'\n// import updateHistory from '../ui/chessgame'\n// when indexing, remember: [y][x]. \n/**\n * If the player color is black, make sure to invert the board.\n */\n\n\n\n\nclass Game {\n    constructor(thisPlayersColorIsWhite) {\n        this.thisPlayersColorIsWhite = thisPlayersColorIsWhite // once initialized, this value should never change.\n        // console.log(\"this player's color is white: \" + this.thisPlayersColorIsWhite) \n        this.chessBoard = this.makeStartingBoard() // the actual chessBoard\n\n        this.chess = new Chess()\n        // this.chess.pgn()\n\n        this.toCoord = thisPlayersColorIsWhite ? {\n            0: 8, 1: 7, 2: 6, 3: 5, 4: 4, 5: 3, 6: 2, 7: 1\n        } : {\n            0: 1, 1: 2, 2: 3, 3: 4, 4: 5, 5: 6, 6: 7, 7: 8\n        }\n\n        this.toAlphabet = thisPlayersColorIsWhite ? {\n            0: \"a\", 1: \"b\", 2: \"c\", 3: \"d\", 4: \"e\", 5: \"f\", 6: \"g\", 7: \"h\"\n        } : {\n            0: \"h\", 1: \"g\", 2: \"f\", 3: \"e\", 4: \"d\", 5: \"c\", 6: \"b\", 7: \"a\"\n        }\n\n        this.toCoord2 = thisPlayersColorIsWhite ? {\n            8: 0, 7: 1, 6: 2, 5: 3, 4: 4, 3: 5, 2: 6, 1: 7\n        } : {\n            1: 0, 2: 1, 3: 2, 4: 3, 5: 4, 6: 5, 7: 6, 8: 7\n        }\n\n        this.toAlphabet2 = thisPlayersColorIsWhite ? {\n            \"a\": 0, \"b\": 1, \"c\": 2, \"d\": 3, \"e\": 4, \"f\": 5, \"g\": 6, \"h\": 7\n        } : {\n            \"h\": 0, \"g\": 1, \"f\": 2, \"e\": 3, \"d\": 4, \"c\": 5, \"b\": 6, \"a\": 7\n        }\n\n        this.nQueens = 1\n    }\n\n    getBoard() {\n        return this.chessBoard\n    }\n\n    setBoard(newBoard) {\n        this.chessBoard = newBoard\n    }\n    suggestPieceMove(pieceId, isMyMove) {\n        const to2D = isMyMove ? {\n            105: 0, 195: 1, 285: 2, 375: 3, 465: 4, 555: 5, 645: 6, 735: 7\n        } : {\n            105: 7, 195: 6, 285: 5, 375: 4, 465: 3, 555: 2, 645: 1, 735: 0\n        }\n\n        var currentBoard = this.getBoard()\n        const pieceCoordinates = this.findPiece(currentBoard, pieceId)\n\n        if (!pieceCoordinates) {\n            return\n        }\n    }\n    movePiece(pieceId, to, isMyMove) {\n\n        const to2D = isMyMove ? {\n            105: 0, 195: 1, 285: 2, 375: 3, 465: 4, 555: 5, 645: 6, 735: 7\n        } : {\n            105: 7, 195: 6, 285: 5, 375: 4, 465: 3, 555: 2, 645: 1, 735: 0\n        }\n\n\n        var currentBoard = this.getBoard()\n        const pieceCoordinates = this.findPiece(currentBoard, pieceId)\n\n\n        // can't find piece coordinates (piece doesn't exist on the board)\n        if (!pieceCoordinates) {\n            return\n        }\n\n        const y = pieceCoordinates[1]\n        const x = pieceCoordinates[0]\n\n        // new coordinates\n        const to_y = to2D[to[1]]\n        const to_x = to2D[to[0]]\n\n        const originalPiece = currentBoard[y][x].getPiece()\n\n        if (y === to_y && x === to_x) {\n            return \"moved in the same position.\"\n        }\n\n        /**\n         * In order for this method to do anything meaningful, \n         * the 'reassign const' line of code must run. Therefore, \n         * for it to run, we must check first that the given move is valid. \n         */\n\n        const isPromotion = this.isPawnPromotion(to, pieceId[1])\n        const moveAttempt = !isPromotion ? this.chess.move({\n            from: this.toChessMove([x, y], to2D),\n            to: this.toChessMove(to, to2D),\n            piece: pieceId[1]\n        })\n            :\n            this.chess.move({\n                from: this.toChessMove([x, y], to2D),\n                to: this.toChessMove(to, to2D),\n                piece: pieceId[1],\n                promotion: 'q'\n            })\n\n\n        console.log(\"move attempt\", moveAttempt)\n        // console.log(isPromotion)\n        // this.props.callBack(this.chess.pgn())\n        // console.log(\"tvvvh\");\n\n        if (moveAttempt === null) {\n            return \"invalid move\"\n        }\n\n\n        if (moveAttempt.flags === 'e') {\n            const move = moveAttempt.to\n            const x = this.toAlphabet2[move[0]]\n            let y\n            if (moveAttempt.color === 'w') {\n                y = parseInt(move[1], 10) - 1\n            } else {\n                y = parseInt(move[1], 10) + 1\n            }\n            currentBoard[this.toCoord2[y]][x].setPiece(null)\n        }\n\n\n\n        // Check castling\n        const castle = this.isCastle(moveAttempt)\n        if (castle.didCastle) {\n            /**\n             *  The main thing we are doing here is moving the right rook\n             *  to the right position. \n             * \n             * - Get original piece by calling getPiece() on the original [x, y]\n             * - Set the new [to_x, to_y] to the original piece\n             * - Set the original [x, y] to null\n             */\n\n            const originalRook = currentBoard[castle.y][castle.x].getPiece()\n            currentBoard[castle.to_y][castle.to_x].setPiece(originalRook)\n            currentBoard[castle.y][castle.x].setPiece(null)\n        }\n\n\n        // ___actually changing the board model___\n\n        const reassign = isPromotion ? currentBoard[to_y][to_x].setPiece(\n            new ChessPiece(\n                'queen',\n                false,\n                pieceId[0] === 'w' ? 'white' : 'black',\n                pieceId[0] === 'w' ? 'wq' + this.nQueens : 'bq' + this.nQueens))\n            : currentBoard[to_y][to_x].setPiece(originalPiece)\n\n        if (reassign !== \"user tried to capture their own piece\") {\n            currentBoard[y][x].setPiece(null)\n        } else {\n            return reassign\n        }\n\n        // ___actually changing the board model___\n\n\n        const checkMate = this.chess.in_checkmate() ? \" has been checkmated\" : \" has not been checkmated\"\n        console.log(this.chess.turn() + checkMate)\n        if (checkMate === \" has been checkmated\") {\n            return this.chess.turn() + checkMate\n        }\n        // changes the fill color of the opponent's king that is in check\n        const check = this.chess.in_check() ? \" is in check\" : \" is not in check\"\n        console.log(this.chess.turn() + check)\n        if (check === \" is in check\") {\n            return this.chess.turn() + check\n        }\n\n        console.log(currentBoard)\n        // update board\n        this.setBoard(currentBoard)\n    }\n\n\n\n    isCastle(moveAttempt) {\n        /**\n         * Assume moveAttempt is legal. \n         * \n         * {moveAttempt} -> {boolean x, y to_x, to_y} \n         * \n         * returns if a player has castled, the final position of \n         * the rook (to_x, to_y), and the original position of the rook (x, y)\n         * \n         */\n\n\n        const piece = moveAttempt.piece\n        const move = { from: moveAttempt.from, to: moveAttempt.to }\n\n        const isBlackCastle = ((move.from === 'e1' && move.to === 'g1') || (move.from === 'e1' && move.to === 'c1'))\n        const isWhiteCastle = (move.from === 'e8' && move.to === 'g8') || (move.from === 'e8' && move.to === 'c8')\n\n\n        if (!(isWhiteCastle || isBlackCastle) || piece !== 'k') {\n            return {\n                didCastle: false\n            }\n        }\n\n        let originalPositionOfRook\n        let newPositionOfRook\n\n        if ((move.from === 'e1' && move.to === 'g1')) {\n            originalPositionOfRook = 'h1'\n            newPositionOfRook = 'f1'\n        } else if ((move.from === 'e1' && move.to === 'c1')) {\n            originalPositionOfRook = 'a1'\n            newPositionOfRook = 'd1'\n        } else if ((move.from === 'e8' && move.to === 'g8')) {\n            originalPositionOfRook = 'h8'\n            newPositionOfRook = 'f8'\n        } else { // e8 to c8\n            originalPositionOfRook = 'a8'\n            newPositionOfRook = 'd8'\n        }\n\n\n        return {\n            didCastle: true,\n            x: this.toAlphabet2[originalPositionOfRook[0]],\n            y: this.toCoord2[originalPositionOfRook[1]],\n            to_x: this.toAlphabet2[newPositionOfRook[0]],\n            to_y: this.toCoord2[newPositionOfRook[1]]\n        }\n    }\n\n\n    isPawnPromotion(to, piece) {\n        const res = piece === 'p' && (to[1] === 105 || to[1] === 735)\n        if (res) {\n            this.nQueens += 1\n        }\n        return res\n    }\n\n\n    toChessMove(finalPosition, to2D) {\n\n        let move\n\n        if (finalPosition[0] > 100) {\n            move = this.toAlphabet[to2D[finalPosition[0]]] + this.toCoord[to2D[finalPosition[1]]]\n        } else {\n            move = this.toAlphabet[finalPosition[0]] + this.toCoord[finalPosition[1]]\n        }\n\n        //  console.log(\"proposed move: \" + move)\n        return move\n    }\n\n    findPiece(board, pieceId) {\n        // ChessBoard, String -> [Int, Int]\n        //  console.log(\"piecetofind: \" + pieceId)\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                if (board[i][j].getPieceIdOnThisSquare() === pieceId) {\n                    return [j, i]\n                }\n            }\n        }\n    }\n\n    makeStartingBoard() {\n        const backRank = [\"rook\", \"knight\", \"bishop\", \"queen\", \"king\", \"bishop\", \"knight\", \"rook\"]\n        var startingChessBoard = []\n        for (var i = 0; i < 8; i++) {\n            startingChessBoard.push([])\n            for (var j = 0; j < 8; j++) {\n                // j is horizontal\n                // i is vertical\n                const coordinatesOnCanvas = [((j + 1) * 90 + 15), ((i + 1) * 90 + 15)]\n                const emptySquare = new Square(j, i, null, coordinatesOnCanvas)\n\n                startingChessBoard[i].push(emptySquare)\n            }\n        }\n        const whiteBackRankId = [\"wr1\", \"wn1\", \"wb1\", \"wq1\", \"wk1\", \"wb2\", \"wn2\", \"wr2\"]\n        const blackBackRankId = [\"br1\", \"bn1\", \"bb1\", \"bq1\", \"bk1\", \"bb2\", \"bn2\", \"br2\"]\n        for (let j = 0; j < 8; j += 7) {\n            for (let i = 0; i < 8; i++) {\n                if (j === 0) {\n                    // top\n                    // console.log(backRank[i])\n                    startingChessBoard[j][this.thisPlayersColorIsWhite ? i : 7 - i].setPiece(new ChessPiece(backRank[i], false, this.thisPlayersColorIsWhite ? \"black\" : \"white\", this.thisPlayersColorIsWhite ? blackBackRankId[i] : whiteBackRankId[i]))\n                    startingChessBoard[j + 1][this.thisPlayersColorIsWhite ? i : 7 - i].setPiece(new ChessPiece(\"pawn\", false, this.thisPlayersColorIsWhite ? \"black\" : \"white\", this.thisPlayersColorIsWhite ? \"bp\" + i : \"wp\" + i))\n                } else {\n                    // bottom\n                    startingChessBoard[j - 1][this.thisPlayersColorIsWhite ? i : 7 - i].setPiece(new ChessPiece(\"pawn\", false, this.thisPlayersColorIsWhite ? \"white\" : \"black\", this.thisPlayersColorIsWhite ? \"wp\" + i : \"bp\" + i))\n                    startingChessBoard[j][this.thisPlayersColorIsWhite ? i : 7 - i].setPiece(new ChessPiece(backRank[i], false, this.thisPlayersColorIsWhite ? \"white\" : \"black\", this.thisPlayersColorIsWhite ? whiteBackRankId[i] : blackBackRankId[i]))\n                }\n            }\n        }\n        return startingChessBoard\n    }\n}\n\nexport default Game","import React from 'react'\nimport { Image } from 'react-konva';\nimport useImage from 'use-image'\n\nconst Piece = (props) => {\n    const choiceOfColor = props.isWhite ? 0 : 1\n    const [image] = useImage(props.imgurls[choiceOfColor]);\n    const isDragged = props.id === props.draggedPieceTargetId\n\n    const canThisPieceEvenBeMovedByThisPlayer = props.isWhite === props.thisPlayersColorIsWhite\n    const isItThatPlayersTurn = props.playerTurnToMoveIsWhite === props.thisPlayersColorIsWhite\n\n    const thisWhiteKingInCheck = props.id === \"wk1\" && props.whiteKingInCheck\n    const thisBlackKingInCheck = props.id === \"bk1\" && props.blackKingInCheck\n\n    return <Image image={image}\n        x={props.x - 90}\n        y={props.y - 90}\n        draggable={canThisPieceEvenBeMovedByThisPlayer && isItThatPlayersTurn}\n        width={isDragged ? 75 : 60}\n        height={isDragged ? 75 : 60}\n        onDragStart={props.onDragStart}\n        onDragEnd={props.onDragEnd}\n        fill={(thisWhiteKingInCheck && \"red\") || (thisBlackKingInCheck && \"red\")}\n        id={props.id}\n    />;\n};\n\nexport default Piece","export default {\n    'pawn': ['https://upload.wikimedia.org/wikipedia/commons/0/04/Chess_plt60.png', 'https://upload.wikimedia.org/wikipedia/commons/c/cd/Chess_pdt60.png'],\n    'knight':['https://upload.wikimedia.org/wikipedia/commons/2/28/Chess_nlt60.png','https://upload.wikimedia.org/wikipedia/commons/f/f1/Chess_ndt60.png'],\n    'bishop':['https://upload.wikimedia.org/wikipedia/commons/9/9b/Chess_blt60.png','https://upload.wikimedia.org/wikipedia/commons/8/81/Chess_bdt60.png'],\n    'king':['https://upload.wikimedia.org/wikipedia/commons/3/3b/Chess_klt60.png','https://upload.wikimedia.org/wikipedia/commons/e/e3/Chess_kdt60.png'],\n    'queen':['https://upload.wikimedia.org/wikipedia/commons/4/49/Chess_qlt60.png','https://upload.wikimedia.org/wikipedia/commons/a/af/Chess_qdt60.png'],\n    'rook':['https://upload.wikimedia.org/wikipedia/commons/5/5c/Chess_rlt60.png','https://upload.wikimedia.org/wikipedia/commons/a/a0/Chess_rdt60.png']\n}","import { createContext } from 'react'\n\nexport const ColorContext = createContext({\n    didRedirect: false, \n    playerDidRedirect: () => {}, \n    playerDidNotRedirect: () => {}\n})","import React, { useEffect, useState, useRef } from 'react';\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nimport { BsFillCameraVideoFill, BsFillCameraVideoOffFill, BsMicFill, BsMicMuteFill } from \"react-icons/bs\"\nimport Button from '@material-ui/core/Button';\n\nconst socket = require('../connection/socket').socket\n\n\nconst Container = styled.div`\n \n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  width: 100%;\n`;\n\nconst Video = styled.video`\n  max-width: 80%;\n  border-radius: 1rem;\n  // margin-left: 2.5rem;\n`;\n\n// const Button = styled.button`\n//   display: flex;\n//   flex-direction: column;\n//   margin: 20px 0 0 170px;\n// `\n\n\nfunction VideoChatApp(props) {\n\n  const [stream, setStream] = useState();\n  const [receivingCall, setReceivingCall] = useState(false);\n  const [caller, setCaller] = useState(\"\");\n  const [callerSignal, setCallerSignal] = useState();\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [isCalling, setIsCalling] = useState(false)\n  const [isStop, setStopVideo] = useState(false)\n  const [audio, setStopAudio] = useState(false)\n  const userVideo = useRef();\n  const partnerVideo = useRef();\n\n  // let myVideoStream;\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\n      // myVideoStream = stream;\n      setStream(stream);\n      if (userVideo.current) {\n        userVideo.current.srcObject = stream;\n      }\n    })\n\n    socket.on(\"hey\", (data) => {\n      setReceivingCall(true);\n      setCaller(data.from);\n      setCallerSignal(data.signal);\n    })\n  }, []);\n\n  function callPeer(id) {\n    setIsCalling(true)\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream: stream,\n    });\n\n    peer.on(\"signal\", data => {\n      socket.emit(\"callUser\", { userToCall: id, signalData: data, from: props.mySocketId })\n    })\n\n    peer.on(\"stream\", stream => {\n      if (partnerVideo.current) {\n        partnerVideo.current.srcObject = stream;\n      }\n    });\n\n    socket.on(\"callAccepted\", signal => {\n      setCallAccepted(true);\n      peer.signal(signal);\n    })\n\n  }\n\n  function acceptCall() {\n    setCallAccepted(true);\n    setIsCalling(false)\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream: stream,\n    });\n    peer.on(\"signal\", data => {\n      socket.emit(\"acceptCall\", { signal: data, to: caller })\n    })\n\n    peer.on(\"stream\", stream => {\n      partnerVideo.current.srcObject = stream;\n    });\n\n    peer.signal(callerSignal);\n  }\n\n  let UserVideo;\n  if (stream) {\n    const stopVideo = () => {\n      const enabled = stream.getVideoTracks()[0].enabled;\n      if (enabled) {\n        stream.getVideoTracks()[0].enabled = false;\n        setStopVideo(true);\n      }\n      else {\n        stream.getVideoTracks()[0].enabled = true;\n        setStopVideo(false);\n      }\n    }\n\n    const stopAudio = () => {\n      const enabled = stream.getAudioTracks()[0].enabled;\n      if (enabled) {\n        stream.getAudioTracks()[0].enabled = false;\n        setStopAudio(true);\n      } else {\n        stream.getAudioTracks()[0].enabled = true;\n        setStopAudio(false);\n      }\n    }\n\n    const buttonContainer = {\n      display: 'flex',\n      flexDirection: 'row',\n      paddingBottom: '20px'\n    }\n\n    const optionButton = {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: isStop ? 'red' : '#3f51b5',\n      height: \"40px\",\n      width: \"40px\",\n      borderRadius: '5px',\n      fontSize: '1.5rem',\n      margin: '20px 0 0 160px',\n      color: '#eeeeee',\n      cursor: 'pointer'\n    }\n    const muteButton = {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: audio ? 'red' : '#3f51b5',\n      height: \"40px\",\n      width: \"40px\",\n      borderRadius: '5px',\n      fontSize: '1.5rem',\n      margin: '20px 0 0 120px',\n      color: '#eeeeee',\n      cursor: 'pointer'\n    }\n    UserVideo = (\n      <div>\n        <Video playsInline muted ref={userVideo} autoPlay />\n        <div style={buttonContainer}>\n          <div style={optionButton} onClick={stopVideo}>\n            {isStop ? <BsFillCameraVideoOffFill /> : <BsFillCameraVideoFill />}\n          </div>\n          <div style={muteButton} onClick={stopAudio}>\n            {audio ? <BsMicMuteFill /> : <BsMicFill />}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  let mainView;\n\n  const videoButtonPos = {\n    margin: '20px 0 0 216px'\n  }\n\n  if (callAccepted) {\n    mainView = (\n      <Video playsInline ref={partnerVideo} autoPlay />\n    );\n  } else if (receivingCall) {\n    mainView = (\n      <div>\n        <div>{props.opponentUserName} залгаж байна...</div>\n        <Button style={videoButtonPos} variant=\"contained\" color=\"primary\" onClick={acceptCall}>Зөвшөөрөх</Button>\n      </div>\n    )\n  } else if (isCalling) {\n    mainView = (\n      <div>\n        <div>{props.opponentUserName} дуудлага хийж байна...</div>\n      </div>\n    )\n  } else {\n    mainView = (\n      <Button style={videoButtonPos} variant=\"contained\" color=\"primary\" onClick={() => {\n        callPeer(props.opponentSocketId)\n      }}>Залгах</Button>\n    )\n  }\n\n\n\n  return (<Container>\n    <Row>\n      {UserVideo}\n      {mainView}\n    </Row>\n  </Container>);\n}\n\nexport default VideoChatApp;","import React from 'react'\nimport Game from '../model/chess'\nimport Square from '../model/square'\nimport { Stage, Layer } from 'react-konva';\nimport Board from '../assets/chessBoard.png'\nimport Piece from './piece'\nimport piecemap from './piecemap'\nimport { useParams } from 'react-router-dom'\nimport { ColorContext } from '../../context/colorcontext'\nimport VideoChatApp from '../../connection/videochat'\nconst socket = require('../../connection/socket').socket\n\n\nclass ChessGame extends React.Component {\n\n    state = {\n        gameState: new Game(this.props.color),\n        draggedPieceTargetId: \"\",\n        playerTurnToMoveIsWhite: true,\n        whiteKingInCheck: false,\n        blackKingInCheck: false,\n    }\n\n\n    componentDidMount() {\n        console.log(this.props.myUserName)\n        console.log(this.props.opponentUserName)\n\n        socket.on('opponent move', move => {\n            if (move.playerColorThatJustMovedIsWhite !== this.props.color) {\n                this.movePiece(move.selectedId, move.finalPosition, this.state.gameState, false)\n                this.setState({\n                    playerTurnToMoveIsWhite: !move.playerColorThatJustMovedIsWhite\n                })\n            }\n        })\n    }\n\n\n    // suggestPieceMove = (selectedId, isMyMove) => {\n    //     console.log(\"suggest\");\n    // }\n\n    startDragging = (e) => {\n        this.setState({\n            draggedPieceTargetId: e.target.attrs.id\n        })\n        // this.suggestPieceMove(selectedId, isMyMove)\n        // console.log(\"sugeeeeest\", this.suggestPieceMove);\n    }\n\n\n    movePiece = (selectedId, finalPosition, currentGame, isMyMove) => {\n        var whiteKingInCheck = false\n        var blackKingInCheck = false\n        var blackCheckmated = false\n        var whiteCheckmated = false\n        const update = currentGame.movePiece(selectedId, finalPosition, isMyMove)\n\n        if (update === \"moved in the same position.\") {\n            this.revertToPreviousState(selectedId)\n            return\n        } else if (update === \"user tried to capture their own piece\") {\n            this.revertToPreviousState(selectedId)\n            return\n        } else if (update === \"b is in check\" || update === \"w is in check\") {\n            if (update[0] === \"b\") {\n                blackKingInCheck = true\n            } else {\n                whiteKingInCheck = true\n            }\n        } else if (update === \"b has been checkmated\" || update === \"w has been checkmated\") {\n            if (update[0] === \"b\") {\n                blackCheckmated = true\n            } else {\n                whiteCheckmated = true\n            }\n        } else if (update === \"invalid move\") {\n            this.revertToPreviousState(selectedId)\n            return\n        }\n\n\n        if (isMyMove) {\n            socket.emit('new move', {\n                nextPlayerColorToMove: !this.state.gameState.thisPlayersColorIsWhite,\n                playerColorThatJustMovedIsWhite: this.state.gameState.thisPlayersColorIsWhite,\n                selectedId: selectedId,\n                finalPosition: finalPosition,\n                gameId: this.props.gameId\n            })\n        }\n        this.props.callBack(currentGame.chess.pgn());\n        // console.log(history);\n\n        this.setState({\n            draggedPieceTargetId: \"\",\n            gameState: currentGame,\n            playerTurnToMoveIsWhite: !this.props.color,\n            whiteKingInCheck: whiteKingInCheck,\n            blackKingInCheck: blackKingInCheck\n        })\n\n        if (blackCheckmated) {\n            alert(\"Цагаан тал яллаа!\")\n        } else if (whiteCheckmated) {\n            alert(\"Хар тал яллаа!\")\n        }\n    }\n\n\n    endDragging = (e) => {\n        const currentGame = this.state.gameState\n        const currentBoard = currentGame.getBoard()\n        const finalPosition = this.inferCoord(e.target.x() + 90, e.target.y() + 90, currentBoard)\n        const selectedId = this.state.draggedPieceTargetId\n        this.movePiece(selectedId, finalPosition, currentGame, true)\n    }\n\n    revertToPreviousState = (selectedId) => {\n\n        const oldGS = this.state.gameState\n        const oldBoard = oldGS.getBoard()\n        const tmpGS = new Game(true)\n        const tmpBoard = []\n\n        for (var i = 0; i < 8; i++) {\n            tmpBoard.push([])\n            for (var j = 0; j < 8; j++) {\n                if (oldBoard[i][j].getPieceIdOnThisSquare() === selectedId) {\n                    tmpBoard[i].push(new Square(j, i, null, oldBoard[i][j].canvasCoord))\n                } else {\n                    tmpBoard[i].push(oldBoard[i][j])\n                }\n            }\n        }\n\n        // temporarily remove the piece that was just moved\n        tmpGS.setBoard(tmpBoard)\n\n        this.setState({\n            gameState: tmpGS,\n            draggedPieceTargetId: \"\",\n        })\n\n        this.setState({\n            gameState: oldGS,\n        })\n    }\n\n\n    inferCoord = (x, y, chessBoard) => {\n\n        var hashmap = {}\n        var shortestDistance = Infinity\n        for (var i = 0; i < 8; i++) {\n            for (var j = 0; j < 8; j++) {\n                const canvasCoord = chessBoard[i][j].getCanvasCoord()\n                // calculate distance\n                const delta_x = canvasCoord[0] - x\n                const delta_y = canvasCoord[1] - y\n                const newDistance = Math.sqrt(delta_x ** 2 + delta_y ** 2)\n                hashmap[newDistance] = canvasCoord\n                if (newDistance < shortestDistance) {\n                    shortestDistance = newDistance\n                }\n            }\n        }\n\n        return hashmap[shortestDistance]\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div style={{\n                    backgroundImage: `url(${Board})`,\n                    width: \"720px\",\n                    height: \"720px\",\n                }}\n                >\n                    <Stage width={720} height={720}>\n                        <Layer >\n                            {this.state.gameState.getBoard().map((row) => {\n                                return (<React.Fragment>\n                                    {row.map((square) => {\n                                        if (square.isOccupied()) {\n                                            return (\n                                                <Piece\n                                                    x={square.getCanvasCoord()[0]}\n                                                    y={square.getCanvasCoord()[1]}\n                                                    imgurls={piecemap[square.getPiece().name]}\n                                                    isWhite={square.getPiece().color === \"white\"}\n                                                    draggedPieceTargetId={this.state.draggedPieceTargetId}\n                                                    onDragStart={this.startDragging}\n                                                    onDragEnd={this.endDragging}\n                                                    id={square.getPieceIdOnThisSquare()}\n                                                    thisPlayersColorIsWhite={this.props.color}\n                                                    playerTurnToMoveIsWhite={this.state.playerTurnToMoveIsWhite}\n                                                    whiteKingInCheck={this.state.whiteKingInCheck}\n                                                    blackKingInCheck={this.state.blackKingInCheck}\n                                                />)\n                                        }\n                                        return\n                                    })}\n                                </React.Fragment>)\n                            })}\n                        </Layer>\n                    </Stage>\n                </div>\n            </React.Fragment >)\n    }\n}\n\n\n\nconst ChessGameWrapper = (props) => {\n\n    const domainName = 'http://localhost:3000'\n    const color = React.useContext(ColorContext)\n    const { gameid } = useParams()\n    const [opponentSocketId, setOpponentSocketId] = React.useState('')\n    const [opponentDidJoinTheGame, didJoinGame] = React.useState(false)\n    const [opponentUserName, setUserName] = React.useState('')\n    const [gameSessionDoesNotExist, doesntExist] = React.useState(false)\n    const [showOponent, setShowOponent] = React.useState(false)\n    const [history, setHistory] = React.useState('')\n    function updateHistory(data) {\n        setHistory(data);\n\n        console.log(\"parent\");\n    }\n\n    React.useEffect(() => {\n        socket.on(\"playerJoinedRoom\", statusUpdate => {\n            console.log(\"player has joined the room! Username: \" + statusUpdate.userName + \", Game id: \" + statusUpdate.gameId + \" Socket id: \" + statusUpdate.mySocketId)\n            if (socket.id !== statusUpdate.mySocketId) {\n                setOpponentSocketId(statusUpdate.mySocketId)\n            }\n        })\n\n        socket.on(\"status\", statusUpdate => {\n            console.log(statusUpdate)\n            alert(statusUpdate)\n            if (statusUpdate === 'Тоглолт үүсээгүй байна.' || statusUpdate === 'Энэ линкээр аль хэдийн 2 хүн тоглож байна.') {\n                doesntExist(true)\n            }\n        })\n\n\n        socket.on('start game', (opponentUserName) => {\n            console.log(\"START!\")\n            if (opponentUserName !== props.myUserName) {\n                setUserName(opponentUserName)\n                didJoinGame(true)\n            } else {\n                // socket.emit('myUserName')\n                socket.emit('request username', gameid)\n            }\n        })\n\n\n        socket.on('give userName', (socketId) => {\n            if (socket.id !== socketId) {\n                console.log(\"give userName stage: \" + props.myUserName)\n                socket.emit('recieved userName', { userName: props.myUserName, gameId: gameid })\n            }\n        })\n\n        socket.on('get Opponent UserName', (data) => {\n            if (socket.id !== data.socketId) {\n                setUserName(data.userName)\n                console.log('data.socketId: data.socketId')\n                setOpponentSocketId(data.socketId)\n                didJoinGame(true)\n            }\n        })\n    }, [])\n\n\n\n    return (\n        <React.Fragment>\n            {/* <div>\n                <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"center\" }}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <h4 style={{ textAlign: \"center\" }}> Өрсөлдөгч: {opponentUserName} </h4>\n                        <VideoChatApp\n                            mySocketId={socket.id}\n                            opponentSocketId={opponentSocketId}\n                            myUserName={props.myUserName}\n                            opponentUserName={opponentUserName}\n                        />\n                    </div>\n                    <ChessGame\n                        gameId={gameid}\n                        color={color.didRedirect}\n                    />\n                    <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" }}>\n                        <h4 style={{ textAlign: \"center\" }}> Өрсөлдөгч: {opponentUserName} </h4>\n                        <VideoChatApp\n                            opponentSocketId={opponentSocketId}\n                            opponentUserName={opponentUserName}\n                        />\n                    </div>\n                </div>\n                <h4>{props.myUserName} </h4>\n            </div> */}\n            {opponentDidJoinTheGame ? (\n                <div>\n                    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-evenly\", marginTop: \"20px\" }}>\n                        <div>\n                            <div>\n                                <h4 style={{ marginTop: \"20px\" }}> Өрсөлдөгч: {opponentUserName} </h4>\n                                <ChessGame\n                                    gameId={gameid}\n                                    color={color.didRedirect}\n                                    callBack={updateHistory}\n                                />\n                            </div>\n                            <div style={{ marginTop: \"20px\" }}>\n                                <label>Нүүдлийн түүх</label>\n                                <div style={{ background: \"#b7c0d8\", borderRadius: \"5px\", padding: \"5px\", width: \"720px\", height: \"70px\" }}>{history}</div>\n                            </div>\n                        </div>\n                        <div style={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"space-evenly\", alignItems: \"center\" }}>\n                            <VideoChatApp\n                                mySocketId={socket.id}\n                                showOponent={showOponent}\n                                updateShowOponent={setShowOponent}\n                                opponentSocketId={opponentSocketId}\n                                myUserName={props.myUserName}\n                                opponentUserName={opponentUserName}\n                            />\n                        </div>\n\n                    </div>\n\n                </div>\n            ) : gameSessionDoesNotExist ? (\n                <div>\n                    <h1 style={{ textAlign: \"center\", marginTop: \"200px\" }}> :( </h1>\n                </div>\n            ) : (\n                <div>\n                    <h2\n                        style={{\n                            textAlign: \"center\",\n                            marginTop: String(window.innerHeight / 8) + \"px\",\n                        }}\n                    >\n                        <strong>{props.myUserName}</strong>, та доорх линкийг хуулж, тоглох гэж буй хүндээ илгээн холбогдон тоглох боломжтой.\n                    </h2>\n                    <textarea\n                        style={{ marginLeft: String((window.innerWidth / 2) - 290) + \"px\", marginTop: \"30px\", width: \"580px\", height: \"30px\" }}\n                        onFocus={(event) => {\n                            console.log('sd')\n                            event.target.select()\n                        }}\n                        value={domainName + \"/game/\" + gameid}\n                        type=\"text\">\n                    </textarea>\n                    <br></br>\n\n                    <h2 style={{ textAlign: \"center\", marginTop: \"100px\" }}>\n                        {\" \"}\n                        Өрсөлдөгч тоглоомд нэгдэхийг хүлээж байна...{\" \"}\n                    </h2>\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport default ChessGameWrapper","import React from 'react'\nimport JoinGame from './joingame'\nimport ChessGame from '../chess/ui/chessgame'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\n/**\n * Onboard is where we create the game room.\n */\n\nclass JoinRoom extends React.Component {\n    state = {\n        didGetUserName: false,\n        inputText: \"\"\n    }\n\n    constructor(props) {\n        super(props);\n        this.textArea = React.createRef();\n    }\n\n    typingUserName = () => {\n        // grab the input text from the field from the DOM \n        const typedText = this.textArea.current.value\n\n        // set the state with that text\n        this.setState({\n            inputText: typedText\n        })\n    }\n\n    render() {\n\n        return (<React.Fragment>\n            {\n                this.state.didGetUserName ?\n                    <React.Fragment>\n                        <JoinGame userName={this.state.inputText} isCreator={false} />\n                        <ChessGame myUserName={this.state.inputText} />\n                    </React.Fragment>\n                    :\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", marginTop: \"4rem\" }}>\n                        <h1>Веб шатар</h1>\n                        <p>Тоглолтод нэгдэхийн тулд та нэрээ оруулна уу!</p>\n\n                        <TextField id=\"outlined-basic\" style={{ width: '15vw', marginBottom: '1%' }} label=\"Нэр\" variant=\"outlined\" required\n                            inputRef={this.textArea}\n                            onChange={this.typingUserName}></TextField>\n\n                        <Button variant=\"contained\" color=\"primary\"\n                            // style={{ marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\" }}\n                            // disabled={!(this.state.inputText.length > 0)}\n                            onClick={() => {\n\n                                this.setState({\n                                    didGetUserName: true\n                                })\n                            }}>Тоглолтод нэгдэх</Button>\n                    </div>\n            }\n        </React.Fragment>)\n    }\n}\n\nexport default JoinRoom","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport uuid from 'uuid/v4'\nimport { ColorContext } from '../context/colorcontext'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nconst socket = require('../connection/socket').socket\n\n/**\n * Onboard is where we create the game room.\n */\n\nclass CreateNewGame extends React.Component {\n    state = {\n        didGetUserName: false,\n        inputText: \"\",\n        gameId: \"\"\n    }\n\n    constructor(props) {\n        super(props);\n        this.textArea = React.createRef();\n    }\n\n    send = () => {\n        /**\n         * This method should create a new room in the '/' namespace\n         * with a unique identifier. \n         */\n        const newGameRoomId = uuid()\n\n        // set the state of this component with the gameId so that we can\n        // redirect the user to that URL later. \n        this.setState({\n            gameId: newGameRoomId\n        })\n\n        // emit an event to the server to create a new room \n        socket.emit('createNewGame', newGameRoomId)\n    }\n\n    typingUserName = () => {\n        // grab the input text from the field from the DOM \n        const typedText = this.textArea.current.value\n\n        // set the state with that text\n        this.setState({\n            inputText: typedText\n        })\n    }\n\n    render() {\n\n        return (<React.Fragment>\n            {\n                this.state.didGetUserName ?\n\n                    <Redirect to={\"/game/\" + this.state.gameId}><button className=\"btn btn-success\" style={{ marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\" }}>Тоглолт эхлүүлэх</button></Redirect>\n\n                    :\n                    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", marginTop: \"4rem\" }}>\n                        <h1>Веб шатар</h1>\n                        <p>Тоглолт үүсгэхийн тулд та нэрээ оруулна уу!</p>\n                        <TextField id=\"outlined-basic\" style={{ width: '15vw', marginBottom: '1%' }} label=\"Нэр\" variant=\"outlined\" required\n                            inputRef={this.textArea}\n                            onChange={this.typingUserName}></TextField>\n\n                        <Button variant=\"contained\" color=\"primary\"\n                            // style={{ marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\" }}\n                            // disabled={!(this.state.inputText.length > 0)}\n                            onClick={() => {\n\n                                this.props.didRedirect()\n                                this.props.setUserName(this.state.inputText)\n                                this.setState({\n                                    didGetUserName: true\n                                })\n                                this.send()\n                            }}>Тоглолт үүсгэх</Button>\n                    </div>\n            }\n        </React.Fragment>)\n    }\n}\n\nconst Onboard = (props) => {\n    const color = React.useContext(ColorContext)\n\n    return <CreateNewGame didRedirect={color.playerDidRedirect} setUserName={props.setUserName} />\n}\n\n\nexport default Onboard","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n// import Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nexport default function Navbar() {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Веб шатар\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport JoinRoom from './onboard/joinroom'\nimport { ColorContext } from './context/colorcontext'\nimport Onboard from './onboard/onboard'\nimport JoinGame from './onboard/joingame'\nimport ChessGame from './chess/ui/chessgame'\nimport Navbar from './navbar';\n// import 'chessboard-element'\n\nfunction App() {\n\n  const [didRedirect, setDidRedirect] = React.useState(false)\n\n  const playerDidRedirect = React.useCallback(() => {\n    setDidRedirect(true)\n  }, [])\n\n  const playerDidNotRedirect = React.useCallback(() => {\n    setDidRedirect(false)\n  }, [])\n\n  const [userName, setUserName] = React.useState('')\n\n  return (\n    <ColorContext.Provider value={{ didRedirect: didRedirect, playerDidRedirect: playerDidRedirect, playerDidNotRedirect: playerDidNotRedirect }}>\n      <Router>\n        <Navbar />\n        <Switch>\n          <Route path=\"/\" exact>\n            <Onboard setUserName={setUserName} />\n            {/* <ChessGame myUserName = {userName} /> */}\n          </Route>\n          <Route path=\"/game/:gameid\" exact>\n            {didRedirect ?\n              <React.Fragment>\n                <JoinGame userName={userName} isCreator={true} />\n                <ChessGame myUserName={userName} />\n              </React.Fragment>\n              :\n              <JoinRoom />}\n          </Route>\n          <Redirect to=\"/\" />\n        </Switch>\n      </Router>\n    </ColorContext.Provider>);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import io from 'socket.io-client'\n\nconst URL = 'https://shag-mad-backend.herokuapp.com'\n// const URL = 'http://localhost:8000'\n\nconst socket = io(URL)\n\nvar mySocketId\n// register preliminary event listeners here:\n\n\nsocket.on(\"createNewGame\", statusUpdate => {\n    console.log(\"new game created! Username: \" + statusUpdate.userName + \", Game id: \" + statusUpdate.gameId + \" Socket id: \" + statusUpdate.mySocketId)\n    mySocketId = statusUpdate.mySocketId\n})\n\nexport {\n    socket,\n    mySocketId\n}\n"],"sourceRoot":""}